{"ast":null,"code":"import { inject } from 'vue';\nimport { UUserRequest, URedirect, UUserResponse } from \"@/ups_user_pb.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      packageId: \"\",\n      newX: \"\",\n      newY: \"\"\n    };\n  },\n  // setup() {\n  //   const socket = inject('$socket');\n  //   return { socket };\n  // },\n  methods: {\n    async redirectOrder() {\n      // const redirect = new URedirect();\n      // redirect.setPackageId(this.packageId);\n      // redirect.setX(this.newX);\n      // redirect.setY(this.newY);\n      //\n      // const request = new UUserRequest();\n      // request.setRedirectCommand(redirect);\n      //\n      // this.$socket.send(\"redirectOrder\", request);\n\n      try {\n        const response = await axios.post(\"http://localhost:8080/redirect\", {\n          packageId: this.packageId,\n          newX: this.newX,\n          newY: this.newY\n        });\n        console.log(response);\n      } catch (error) {\n        console.error(\"Error creating order:\", error);\n      }\n    }\n    // const binaryPayload = await this.$socket.onMessage(\"redirectOrderResponse\");\n    // const response = UUserResponse.deserializeBinary(binaryPayload);\n    // const redirectResult = response.getRedirectResult();\n\n    // if (redirectResult.getMessage() === \"success\") {\n    //   alert(\"redirect success\");\n    //   this.$router.push(\"/\");\n    // } else {\n    //   alert(\"redirect failed\");\n    // }\n  }\n};","map":{"version":3,"names":["inject","UUserRequest","URedirect","UUserResponse","axios","data","packageId","newX","newY","methods","redirectOrder","response","post","console","log","error"],"sources":["/Users/bhc/erss-hwk5-sq44-hb147/ups_frontend/src/components/RedirectOrder.vue"],"sourcesContent":["\n<template>\n  <div>\n    <h1>Redirect Order</h1>\n    <form @submit.prevent=\"redirectOrder\">\n      <label for=\"packageId\">Package ID:</label>\n      <input v-model=\"packageId\" type=\"text\" id=\"packageId\" name=\"packageId\" />\n      <br />\n      <label for=\"newX\">New X:</label>\n      <input v-model=\"newX\" type=\"text\" id=\"newX\" name=\"newX\" />\n      <br />\n      <label for=\"newY\">New Y:</label>\n      <input v-model=\"newY\" type=\"text\" id=\"newY\" name=\"newY\" />\n      <br />\n      <button type=\"submit\">Redirect Order</button>\n    </form>\n  </div>\n</template>\n<script>\nimport { inject } from 'vue';\nimport {\n  UUserRequest,\n  URedirect,\n  UUserResponse,\n} from \"@/ups_user_pb.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      packageId: \"\",\n      newX: \"\",\n      newY: \"\"\n    };\n  },\n  // setup() {\n  //   const socket = inject('$socket');\n  //   return { socket };\n  // },\n  methods: {\n\n    async redirectOrder() {\n      // const redirect = new URedirect();\n      // redirect.setPackageId(this.packageId);\n      // redirect.setX(this.newX);\n      // redirect.setY(this.newY);\n      //\n      // const request = new UUserRequest();\n      // request.setRedirectCommand(redirect);\n      //\n      // this.$socket.send(\"redirectOrder\", request);\n\n        try {\n            const response = await axios.post(\"http://localhost:8080/redirect\", {\n                packageId: this.packageId,\n                newX: this.newX,\n                newY: this.newY,\n            });\n            console.log(response);\n        } catch (error) {\n            console.error(\"Error creating order:\", error);\n        }\n    }\n      // const binaryPayload = await this.$socket.onMessage(\"redirectOrderResponse\");\n      // const response = UUserResponse.deserializeBinary(binaryPayload);\n      // const redirectResult = response.getRedirectResult();\n\n      // if (redirectResult.getMessage() === \"success\") {\n      //   alert(\"redirect success\");\n      //   this.$router.push(\"/\");\n      // } else {\n      //   alert(\"redirect failed\");\n      // }\n    },\n};\n</script>\n"],"mappings":"AAmBA,SAASA,MAAK,QAAS,KAAK;AAC5B,SACEC,YAAY,EACZC,SAAS,EACTC,aAAa,QACR,kBAAkB;AACzB,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACD;EACA;EACA;EACA;EACAC,OAAO,EAAE;IAEP,MAAMC,aAAaA,CAAA,EAAG;MACpB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEE,IAAI;QACA,MAAMC,QAAO,GAAI,MAAMP,KAAK,CAACQ,IAAI,CAAC,gCAAgC,EAAE;UAChEN,SAAS,EAAE,IAAI,CAACA,SAAS;UACzBC,IAAI,EAAE,IAAI,CAACA,IAAI;UACfC,IAAI,EAAE,IAAI,CAACA;QACf,CAAC,CAAC;QACFK,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACzB,EAAE,OAAOI,KAAK,EAAE;QACZF,OAAO,CAACE,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MACjD;IACJ;IACE;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;EACF;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}