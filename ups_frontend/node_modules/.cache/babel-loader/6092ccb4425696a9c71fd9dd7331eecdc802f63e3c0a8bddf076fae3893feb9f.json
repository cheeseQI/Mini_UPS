{"ast":null,"code":"import { createRouter, createWebHistory } from \"vue-router\";\nimport QueryOrder from \"../components/QueryOrderById.vue\";\nimport RedirectOrder from \"../components/RedirectOrder.vue\";\nimport Login from \"@/components/LoginComponent.vue\";\nimport PackageList from \"@/components/PackageList.vue\";\nimport PackageInfo from \"@/components/PackageInfo.vue\";\nimport Welcome from \"@/components/Welcome.vue\";\nconst routes = [{\n  path: \"/\",\n  name: \"WelcomePage\",\n  component: Welcome,\n  meta: {\n    requiresAuth: false\n  }\n}, {\n  path: \"/queryByOrderId\",\n  name: \"QueryByOrderId\",\n  component: QueryByOrderId,\n  meta: {\n    requiresAuth: false\n  }\n}, {\n  path: \"/redirect\",\n  name: \"RedirectOrder\",\n  component: RedirectOrder,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/login\",\n  name: \"Login\",\n  component: Login,\n  meta: {\n    requiresAuth: false\n  }\n}, {\n  path: \"/package-list\",\n  name: \"PackageList\",\n  component: PackageList,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/package-info\",\n  name: \"PackageInfo\",\n  component: PackageInfo,\n  meta: {\n    requiresAuth: false\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// 导航守卫\nrouter.beforeEach((to, from, next) => {\n  const loggedIn = localStorage.getItem(\"userToken\");\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  if (requiresAuth && !loggedIn) {\n    next({\n      name: \"Login\"\n    });\n  } else {\n    next();\n  }\n});\nexport default router;\n// import { createRouter, createWebHistory } from 'vue-router'\n// // import HomeView from '../views/HomeView.vue'\n// import QueryOrder from \"../components/QueryOrderById.vue\";\n// import RedirectOrder from \"../components/RedirectOrder.vue\";\n// import Login from \"@/components/LoginComponent.vue\";\n// import PackageList from \"@/components/PackageList.vue\";\n// import PackageInfo from \"@/components/PackageInfo.vue\";\n// import Welcome from \"@/components/Welcome.vue\"\n// // import App from \"@/App.vue\";\n//\n// const routes = [\n//   {\n//     path: \"/\",\n//     name: \"WelcomePage\",\n//     component: Welcome,\n//   },\n//   {\n//     path: \"/query\",\n//     name: \"QueryOrder\",\n//     component: QueryOrder,\n//   },\n//   {\n//     path: \"/redirect\",\n//     name: \"RedirectOrder\",\n//     component: RedirectOrder,\n//   },\n//   {\n//     path: \"/login\",\n//     name: \"Login\",\n//     component: Login,\n//   },\n//   {\n//     path: \"/package-list\",\n//     name: \"PackageList\",\n//     component: PackageList,\n//   },\n//   {\n//     path: \"/package-info\",\n//     name: \"PackageInfo\",\n//     component: PackageInfo,\n//   },\n// ]\n//\n// const router = createRouter({\n//   history: createWebHistory(process.env.BASE_URL),\n//   routes\n// })\n//\n// export default router","map":{"version":3,"names":["createRouter","createWebHistory","QueryOrder","RedirectOrder","Login","PackageList","PackageInfo","Welcome","routes","path","name","component","meta","requiresAuth","QueryByOrderId","router","history","process","env","BASE_URL","beforeEach","to","from","next","loggedIn","localStorage","getItem","matched","some","record"],"sources":["/Users/bhc/erss-hwk5-sq44-hb147/ups_frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from \"vue-router\";\nimport QueryOrder from \"../components/QueryOrderById.vue\";\nimport RedirectOrder from \"../components/RedirectOrder.vue\";\nimport Login from \"@/components/LoginComponent.vue\";\nimport PackageList from \"@/components/PackageList.vue\";\nimport PackageInfo from \"@/components/PackageInfo.vue\";\nimport Welcome from \"@/components/Welcome.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"WelcomePage\",\n    component: Welcome,\n    meta: { requiresAuth: false },\n  },\n  {\n    path: \"/queryByOrderId\",\n    name: \"QueryByOrderId\",\n    component: QueryByOrderId,\n    meta: { requiresAuth: false },\n  },\n  {\n    path: \"/redirect\",\n    name: \"RedirectOrder\",\n    component: RedirectOrder,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/login\",\n    name: \"Login\",\n    component: Login,\n    meta: { requiresAuth: false },\n  },\n  {\n    path: \"/package-list\",\n    name: \"PackageList\",\n    component: PackageList,\n    meta: { requiresAuth: true },\n  },\n  {\n    path: \"/package-info\",\n    name: \"PackageInfo\",\n    component: PackageInfo,\n    meta: { requiresAuth: false },\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\n// 导航守卫\nrouter.beforeEach((to, from, next) => {\n  const loggedIn = localStorage.getItem(\"userToken\") ;\n\n  const requiresAuth = to.matched.some((record) => record.meta.requiresAuth);\n\n  if (requiresAuth && !loggedIn) {\n    next({ name: \"Login\" });\n  } else {\n    next();\n  }\n});\n\nexport default router;\n// import { createRouter, createWebHistory } from 'vue-router'\n// // import HomeView from '../views/HomeView.vue'\n// import QueryOrder from \"../components/QueryOrderById.vue\";\n// import RedirectOrder from \"../components/RedirectOrder.vue\";\n// import Login from \"@/components/LoginComponent.vue\";\n// import PackageList from \"@/components/PackageList.vue\";\n// import PackageInfo from \"@/components/PackageInfo.vue\";\n// import Welcome from \"@/components/Welcome.vue\"\n// // import App from \"@/App.vue\";\n//\n// const routes = [\n//   {\n//     path: \"/\",\n//     name: \"WelcomePage\",\n//     component: Welcome,\n//   },\n//   {\n//     path: \"/query\",\n//     name: \"QueryOrder\",\n//     component: QueryOrder,\n//   },\n//   {\n//     path: \"/redirect\",\n//     name: \"RedirectOrder\",\n//     component: RedirectOrder,\n//   },\n//   {\n//     path: \"/login\",\n//     name: \"Login\",\n//     component: Login,\n//   },\n//   {\n//     path: \"/package-list\",\n//     name: \"PackageList\",\n//     component: PackageList,\n//   },\n//   {\n//     path: \"/package-info\",\n//     name: \"PackageInfo\",\n//     component: PackageInfo,\n//   },\n// ]\n//\n// const router = createRouter({\n//   history: createWebHistory(process.env.BASE_URL),\n//   routes\n// })\n//\n// export default router\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,UAAU,MAAM,kCAAkC;AACzD,OAAOC,aAAa,MAAM,iCAAiC;AAC3D,OAAOC,KAAK,MAAM,iCAAiC;AACnD,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,OAAO,MAAM,0BAA0B;AAE9C,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEJ,OAAO;EAClBK,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAM;AAC9B,CAAC,EACD;EACEJ,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEG,cAAc;EACzBF,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAM;AAC9B,CAAC,EACD;EACEJ,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAER,aAAa;EACxBS,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEP,KAAK;EAChBQ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAM;AAC9B,CAAC,EACD;EACEJ,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEN,WAAW;EACtBO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAEL,WAAW;EACtBM,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAM;AAC9B,CAAC,CACF;AAED,MAAME,MAAM,GAAGf,YAAY,CAAC;EAC1BgB,OAAO,EAAEf,gBAAgB,CAACgB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CX;AACF,CAAC,CAAC;;AAEF;AACAO,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAElD,MAAMb,YAAY,GAAGQ,EAAE,CAACM,OAAO,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACjB,IAAI,CAACC,YAAY,CAAC;EAE1E,IAAIA,YAAY,IAAI,CAACW,QAAQ,EAAE;IAC7BD,IAAI,CAAC;MAAEb,IAAI,EAAE;IAAQ,CAAC,CAAC;EACzB,CAAC,MAAM;IACLa,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}