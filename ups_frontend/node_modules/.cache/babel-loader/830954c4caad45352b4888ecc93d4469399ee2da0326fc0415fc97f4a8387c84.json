{"ast":null,"code":"/* eslint-disable */\nimport { UUserRequest, UQuery } from \"@/ups_user_pb\";\nimport { inject } from \"vue\";\nexport default {\n  data() {\n    return {\n      packageId: '',\n      userId: ''\n    };\n  },\n  setup() {\n    const socket = inject('$socket');\n    socket.on('connect', () => {\n      console.log('WebSocket connected successfully.');\n    });\n\n    // 监听连接失败事件\n    socket.on('connect_error', error => {\n      console.error('WebSocket connection error:', error);\n    });\n\n    // 监听自定义的消息发送确认事件（在服务器端实现）\n    socket.on('query', () => {\n      console.log('Message sent successfully.');\n    });\n    return {\n      socket\n    };\n  },\n  methods: {\n    sendMessage(msg) {\n      this.socket.emit('query', msg);\n    },\n    async queryOrder() {\n      console.log(\"query Start!\");\n      console.log(this.packageId);\n      console.log(this.userId);\n      const query = new UQuery();\n      query.setPackageid(this.packageId);\n      query.setPackageid(this.userId);\n      const request = new UUserRequest();\n      request.setQuerycommand(query);\n      const binary = request.serializeBinary();\n      console.log(binary);\n      this.sendMessage(binary);\n    }\n  }\n};","map":{"version":3,"names":["UUserRequest","UQuery","inject","data","packageId","userId","setup","socket","on","console","log","error","methods","sendMessage","msg","emit","queryOrder","query","setPackageid","request","setQuerycommand","binary","serializeBinary"],"sources":["/Users/bhc/erss-hwk5-sq44-hb147/ups_frontend/src/components/QueryOrder.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>Query Order</h1>\n        <form @submit.prevent=\"queryOrder\">\n            <label for=\"packageId\">Package ID:</label>\n            <input v-model=\"packageId\" type=\"text\" id=\"packageId\" name=\"packageId\" />\n            <br />\n            <label for=\"userId\">User ID:</label>\n            <input v-model=\"userId\" type=\"text\" id=\"userId\" name=\"userId\" />\n            <br />\n            <button type=\"submit\">Query Order</button>\n        </form>\n    </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport {\n    UUserRequest,\n    UQuery,\n} from \"@/ups_user_pb\";\nimport {inject} from \"vue\";\n\nexport default {\n    data() {\n        return {\n            packageId: '',\n            userId: '',\n        };\n    },\n    setup() {\n        const socket = inject('$socket');\n        socket.on('connect', () => {\n            console.log('WebSocket connected successfully.');\n        });\n\n        // 监听连接失败事件\n        socket.on('connect_error', (error) => {\n            console.error('WebSocket connection error:', error);\n        });\n\n        // 监听自定义的消息发送确认事件（在服务器端实现）\n        socket.on('query', () => {\n            console.log('Message sent successfully.');\n        });\n        return { socket };\n    },\n    methods: {\n        sendMessage(msg) {\n            this.socket.emit('query', msg);\n        },\n        async queryOrder() {\n            console.log(\"query Start!\");\n            console.log(this.packageId);\n            console.log(this.userId);\n            const query = new UQuery();\n            query.setPackageid(this.packageId);\n            query.setPackageid(this.userId);\n\n            const request = new UUserRequest();\n            request.setQuerycommand(query);\n            const binary = request.serializeBinary();\n            console.log(binary);\n            this.sendMessage(binary);\n        },\n    },\n};\n</script>\n"],"mappings":"AAgBA;AACA,SACIA,YAAY,EACZC,MAAM,QACH,eAAe;AACtB,SAAQC,MAAM,QAAO,KAAK;AAE1B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EACDC,KAAKA,CAAA,EAAG;IACJ,MAAMC,MAAK,GAAIL,MAAM,CAAC,SAAS,CAAC;IAChCK,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MACvBC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;IACpD,CAAC,CAAC;;IAEF;IACAH,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;MAClCF,OAAO,CAACE,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD,CAAC,CAAC;;IAEF;IACAJ,MAAM,CAACC,EAAE,CAAC,OAAO,EAAE,MAAM;MACrBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC7C,CAAC,CAAC;IACF,OAAO;MAAEH;IAAO,CAAC;EACrB,CAAC;EACDK,OAAO,EAAE;IACLC,WAAWA,CAACC,GAAG,EAAE;MACb,IAAI,CAACP,MAAM,CAACQ,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC;IAClC,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACfP,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,SAAS,CAAC;MAC3BK,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,MAAM,CAAC;MACxB,MAAMY,KAAI,GAAI,IAAIhB,MAAM,EAAE;MAC1BgB,KAAK,CAACC,YAAY,CAAC,IAAI,CAACd,SAAS,CAAC;MAClCa,KAAK,CAACC,YAAY,CAAC,IAAI,CAACb,MAAM,CAAC;MAE/B,MAAMc,OAAM,GAAI,IAAInB,YAAY,EAAE;MAClCmB,OAAO,CAACC,eAAe,CAACH,KAAK,CAAC;MAC9B,MAAMI,MAAK,GAAIF,OAAO,CAACG,eAAe,EAAE;MACxCb,OAAO,CAACC,GAAG,CAACW,MAAM,CAAC;MACnB,IAAI,CAACR,WAAW,CAACQ,MAAM,CAAC;IAC5B;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}