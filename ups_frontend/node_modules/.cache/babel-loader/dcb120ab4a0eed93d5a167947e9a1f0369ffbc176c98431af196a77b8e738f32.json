{"ast":null,"code":"/* eslint-disable */\nimport { UUserRequest, UQuery } from \"@/ups_user_pb\";\nimport { inject } from \"vue\";\nimport socket from \"@/socket\";\nexport default {\n  data() {\n    return {\n      packageId: '',\n      userId: '',\n      socket: null\n    };\n  },\n  // setup() {\n  //     this.socket = new WebSocket('ws://vcm-33571.vm.duke.edu:1029');\n  //     this.socket.onopen = function() {\n  //         console.log('WebSocket connected');\n  //         // 在连接建立后发送消息\n  //         this.socket.send('Hello, server!');\n  //     };\n  //\n  //     return { this.socket };\n  // },\n  methods: {\n    sendMessage(message) {\n      this.socket.send(message);\n    },\n    async queryOrder() {\n      console.log(\"query Start!\");\n      console.log(this.packageId);\n      console.log(this.userId);\n      const query = new UQuery();\n      query.setPackageid(this.packageId);\n      query.setPackageid(this.userId);\n      // this.socket =;\n      this.socket = new WebSocket('ws://vcm-33571.vm.duke.edu:1029');\n      this.socket.onopen = function () {\n        console.log('WebSocket connected');\n        // 在连接建立后发送消息\n        this.socket.send('Hello, server!');\n      };\n      console.log(\"mesg send Start!\");\n      const request = new UUserRequest();\n      request.setQuerycommand(query);\n      const binary = request.serializeBinary();\n      console.log(binary);\n      this.sendMessage(binary);\n      console.log('Message sent finished.');\n    }\n  }\n};","map":{"version":3,"names":["UUserRequest","UQuery","inject","socket","data","packageId","userId","methods","sendMessage","message","send","queryOrder","console","log","query","setPackageid","WebSocket","onopen","request","setQuerycommand","binary","serializeBinary"],"sources":["/Users/bhc/erss-hwk5-sq44-hb147/ups_frontend/src/components/QueryOrder.vue"],"sourcesContent":["<template>\n    <div>\n        <h1>Query Order</h1>\n        <form @submit.prevent=\"queryOrder\">\n            <label for=\"packageId\">Package ID:</label>\n            <input v-model=\"packageId\" type=\"text\" id=\"packageId\" name=\"packageId\" />\n            <br />\n            <label for=\"userId\">User ID:</label>\n            <input v-model=\"userId\" type=\"text\" id=\"userId\" name=\"userId\" />\n            <br />\n            <button type=\"submit\">Query Order</button>\n        </form>\n    </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport {\n    UUserRequest,\n    UQuery,\n} from \"@/ups_user_pb\";\nimport {inject} from \"vue\";\nimport socket from \"@/socket\";\n\nexport default {\n    data() {\n        return {\n            packageId: '',\n            userId: '',\n            socket: null,\n        };\n    },\n    // setup() {\n    //     this.socket = new WebSocket('ws://vcm-33571.vm.duke.edu:1029');\n    //     this.socket.onopen = function() {\n    //         console.log('WebSocket connected');\n    //         // 在连接建立后发送消息\n    //         this.socket.send('Hello, server!');\n    //     };\n    //\n    //     return { this.socket };\n    // },\n    methods: {\n        sendMessage(message) {\n            this.socket.send(message);\n        },\n        async queryOrder() {\n            console.log(\"query Start!\");\n            console.log(this.packageId);\n            console.log(this.userId);\n            const query = new UQuery();\n            query.setPackageid(this.packageId);\n            query.setPackageid(this.userId);\n            // this.socket =;\n            this.socket = new WebSocket('ws://vcm-33571.vm.duke.edu:1029');\n            this.socket.onopen = function() {\n                console.log('WebSocket connected');\n                // 在连接建立后发送消息\n                this.socket.send('Hello, server!');\n            };\n            console.log(\"mesg send Start!\");\n            const request = new UUserRequest();\n\n            request.setQuerycommand(query);\n            const binary = request.serializeBinary();\n            console.log(binary);\n            this.sendMessage(binary);\n            console.log('Message sent finished.');\n        },\n    },\n};\n</script>\n"],"mappings":"AAgBA;AACA,SACIA,YAAY,EACZC,MAAM,QACH,eAAe;AACtB,SAAQC,MAAM,QAAO,KAAK;AAC1B,OAAOC,MAAK,MAAO,UAAU;AAE7B,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE,EAAE;MACVH,MAAM,EAAE;IACZ,CAAC;EACL,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAI,OAAO,EAAE;IACLC,WAAWA,CAACC,OAAO,EAAE;MACjB,IAAI,CAACN,MAAM,CAACO,IAAI,CAACD,OAAO,CAAC;IAC7B,CAAC;IACD,MAAME,UAAUA,CAAA,EAAG;MACfC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;MAC3BD,OAAO,CAACC,GAAG,CAAC,IAAI,CAACR,SAAS,CAAC;MAC3BO,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,MAAM,CAAC;MACxB,MAAMQ,KAAI,GAAI,IAAIb,MAAM,EAAE;MAC1Ba,KAAK,CAACC,YAAY,CAAC,IAAI,CAACV,SAAS,CAAC;MAClCS,KAAK,CAACC,YAAY,CAAC,IAAI,CAACT,MAAM,CAAC;MAC/B;MACA,IAAI,CAACH,MAAK,GAAI,IAAIa,SAAS,CAAC,iCAAiC,CAAC;MAC9D,IAAI,CAACb,MAAM,CAACc,MAAK,GAAI,YAAW;QAC5BL,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;QAClC;QACA,IAAI,CAACV,MAAM,CAACO,IAAI,CAAC,gBAAgB,CAAC;MACtC,CAAC;MACDE,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MAC/B,MAAMK,OAAM,GAAI,IAAIlB,YAAY,EAAE;MAElCkB,OAAO,CAACC,eAAe,CAACL,KAAK,CAAC;MAC9B,MAAMM,MAAK,GAAIF,OAAO,CAACG,eAAe,EAAE;MACxCT,OAAO,CAACC,GAAG,CAACO,MAAM,CAAC;MACnB,IAAI,CAACZ,WAAW,CAACY,MAAM,CAAC;MACxBR,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACzC;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}